[x] Use an array of Regions with Region.children as index into this array.
[x] Get rid of recursion (similar to the original algorithm in the paper).
